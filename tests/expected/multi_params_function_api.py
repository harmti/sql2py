# -*- coding: utf-8 -*-

# Auto-generated by sql2pyapi from multi_params_function.sql

from typing import List, Optional, Tuple, Dict, Any
from uuid import UUID
from decimal import Decimal
from psycopg import AsyncConnection

async def add_item(conn: AsyncConnection, name: str, category_id: int, is_available: bool, price: Decimal, attributes: Dict[str, Any]) -> Optional[UUID]:
    """Adds an item with various attributes"""
    async with conn.cursor() as cur:
        await cur.execute("SELECT * FROM add_item(%s, %s, %s, %s, %s)", [name, category_id, is_available, price, attributes])
        row = await cur.fetchone()
        if row is None:
            return None
        if isinstance(row, dict):
            # Assumes the key is the function name for dict rows
            return row['add_item']
        else:
            # Fallback for tuple-like rows (index 0)
            return row[0]
